# Design System for AI Platform - Specification

**Тип:** Новая фича  
**Дата создания:** 2026-01-06  
**Статус:** В разработке  
**Приоритет:** P1 (Critical для UX consistency)

---

## OVERVIEW

Создание единой дизайн-системы для AI-платформы (Physio/Performance), которая обеспечивает медицинский, чистый и доверительный интерфейс. Система основана на принципе 60-30-10 (цвета), минималистичном подходе и консистентности всех UI элементов.

---

## GOALS

1. **Единообразие интерфейса** - все компоненты следуют одним правилам
2. **Медицинский стиль** - чистота, доверие, профессионализм
3. **Фокус на данных** - ИИ как ассистент, а не украшение
4. **Простота использования** - пользователь учится интерфейсу один раз
5. **Технологичность** - современный, но не "игрушечный" вид

---

## USER VALUE

- **Доверие к платформе** - медицинский стиль создает ощущение профессионализма
- **Быстрое обучение** - консистентный интерфейс = меньше времени на понимание
- **Фокус на контенте** - минималистичный дизайн не отвлекает от данных
- **Надежность** - чистый UI = надежный ИИ (психологический эффект)

---

## REQUIREMENTS

### 1. Цветовая палитра (60-30-10 правило)

#### 1.1. Фон (60%)
- **Цвета:**
  - `#FFFFFF` - основной фон
  - `#F8F8F8` - альтернативный фон
- **Использование:**
  - Dashboard
  - Карточки тестов
  - Страницы упражнений
  - Отчёты
- **Ассоциация:** медицина, чистота, доверие

#### 1.2. Текст и UI (30%)
- **Цвета:**
  - Заголовки: `#1C1C1C`
  - Текст: `#4A4A4A`
  - Разделители: `#E6E6E6`
- **Использование:**
  - Все тексты
  - Навигация
  - Иконки (цвет: `#4A4A4A`)
  - Вторичные кнопки

#### 1.4. Цвета состояний (не входят в 60-30-10, используются только для состояний)

**Error (критические ошибки):**
- Цвет: `#DC2626` (красный)
- Использование: Только для критических ошибок, валидации форм, удаления данных

**Warning (предупреждения):**
- Цвет: `#F59E0B` (янтарный)
- Использование: Предупреждения, некритичные проблемы

**Success (успешные действия):**
- Цвет: `#10B981` (зеленый)
- Использование: Успешные завершения, подтверждения

**Принцип:** Эти цвета используются минимально, только для состояний, не для декоративных элементов

#### 1.3. Акцент (10%)
- **Цвет:** `#5F6F7A` (Slate blue)
- **Использование ТОЛЬКО для:**
  - Start assessment
  - Generate program
  - Save / Apply
  - Primary actions (одно действие = один цвет)
- **Запрещено:**
  - Иконки
  - Декоративные элементы
  - Текст абзацев

### 2. Типографика

#### 2.1. Body Text
- **Шрифт:** Inter
- **Размер:** 14-16px
- **Weight:** Regular / Medium
- **Использование:**
  - Инструкции
  - Пояснения ИИ
  - Тексты тестов
  - Описания

#### 2.2. Headings
- **Шрифт:** Inter
- **Weight:** SemiBold / Bold
- **Использование:**
  - Названия тестов
  - Этапы оценки
  - Заголовки блоков
- **Правило:** Без декоративных шрифтов

**Принцип:** Один шрифт (Inter) для всего = плюс к доверию

### 3. Кнопки (ровно 3 типа)

#### 3.1. Primary (главное действие)
- **Правило:** Только 1 на экран
- **Стиль:**
  - Background: `#5F6F7A`
  - Text: `#FFFFFF`
  - Border radius: `8px`
- **Примеры:**
  - Start assessment
  - Generate rehab plan
  - Apply program

#### 3.2. Secondary
- **Стиль:**
  - Background: Transparent
  - Border: `1px solid #5F6F7A`
  - Text: `#5F6F7A`
  - Border radius: `8px`
- **Примеры:**
  - View explanation
  - Edit parameters
  - Cancel

#### 3.3. Text
- **Стиль:**
  - Color: `#5F6F7A`
  - Без рамки / фона
  - Без border radius
- **Примеры:**
  - Skip
  - Read more
  - Why this exercise?

#### 3.4. Состояния кнопок (для всех типов)

**Disabled:**
- Opacity: 0.5
- Cursor: not-allowed
- Все интерактивные действия отключены

**Loading:**
- Spinner внутри кнопки (16px, цвет = цвет текста кнопки)
- Disabled state активен
- Текст кнопки скрыт или заменен на "Loading..."

**Error (только для критических действий):**
- Цвет: `#DC2626` (красный) - только для критических ошибок
- Использовать редко, только когда действие может привести к потере данных

**Success (опционально):**
- Цвет: `#10B981` (зеленый) - только для успешных завершений
- Использовать редко, обычно достаточно текстового сообщения

### 4. Консистентность (жёстко)

#### 4.1. Фиксированные значения
- **Border radius:** `8px` (везде)
- **Отступы:** `8px / 16px / 24px / 32px` (система)
- **Border:** `1px` (везде)
- **Shadow:** ❌ (или один еле заметный, если критично)

#### 4.2. Карточки
- **Правило:** Карточка везде одинаковая
- **Стиль:**
  - Background: `#FFFFFF`
  - Border: `1px solid #E6E6E6`
  - Border radius: `8px`
  - Padding: `16px` или `24px` (в зависимости от контента)
  - Shadow: ❌ (без теней, только border)
- **Применение:**
  - Тест
  - Упражнение
  - Результат ИИ
  - Рекомендация
- **Принцип:** Пользователь учится интерфейсу один раз

#### 4.3. Иконки
- **Цвет:** `#4A4A4A` (текстовый цвет из 30%)
- **Размеры:**
  - Small: 16px
  - Medium: 20px
  - Large: 24px
- **Библиотека:** Heroicons React (`@heroicons/react`) - уже используется в проекте
- **Правило:** Иконки НЕ используют акцентный цвет (#5F6F7A), только текстовый цвет
- **Использование:** Иконки в кнопках используют цвет текста кнопки (белый для Primary, #5F6F7A для Secondary)

#### 4.4. Формы и Input элементы
- **Input стиль:**
  - Background: `#FFFFFF`
  - Border: `1px solid #E6E6E6`
  - Border radius: `8px`
  - Padding: `12px 16px`
  - Focus: Ring `2px solid #5F6F7A`, outline: none
- **Label:**
  - Color: `#1C1C1C` (заголовковый цвет)
  - Font-weight: Medium
  - Font-size: 14px
- **Placeholder:**
  - Color: `#9CA3AF` (серый, но читаемый)
- **Error state:**
  - Border: `1px solid #DC2626`
  - Error message: `#DC2626`, font-size: 12px, под полем
- **Success state (опционально):**
  - Border: `1px solid #10B981`
  - Success message: `#10B981`, font-size: 12px, под полем

#### 4.5. Модальные окна (если нужны в MVP)
- **Overlay:**
  - Background: `rgba(0, 0, 0, 0.5)` (полупрозрачный черный)
- **Modal:**
  - Background: `#FFFFFF`
  - Border radius: `8px`
  - Padding: `24px`
  - Shadow: `0 4px 6px -1px rgba(0, 0, 0, 0.1)` (только для модальных окон)
  - Max width: `500px` (desktop), `90vw` (mobile)
- **Кнопки в modal:**
  - Footer: Primary справа, Secondary слева
  - Закрытие: X иконка в правом верхнем углу или кнопка Cancel

#### 4.6. Навигация
- **Menu items:**
  - Неактивные: `#4A4A4A`
  - Активные: `#5F6F7A` (акцентный цвет)
  - Hover: Opacity 0.8
- **Breadcrumbs:**
  - Color: `#4A4A4A`
  - Разделитель: `/` (цвет `#E6E6E6`)
- **Tabs:**
  - Неактивные: `#4A4A4A`
  - Активные: `#5F6F7A` с border-bottom `2px solid #5F6F7A`
  - Hover: Opacity 0.8

### 5. Анимации (минимум)

#### 5.1. Разрешено
- **Hover на кнопках:**
  - Opacity: 0.9 (легкое затемнение)
  - Цвет: темнее на 10% от базового цвета
- **Focus состояния (для accessibility, WCAG AA):**
  - Ring: 2px solid #5F6F7A
  - Outline: none (заменяется ring)
  - Обязательно для всех интерактивных элементов
- **Active состояния:**
  - Opacity: 0.8
  - Цвет: темнее на 15% от базового цвета
- **Fade-in при появлении:**
  - Тестов (opacity 0 → 1, duration 200ms)
  - Упражнений (opacity 0 → 1, duration 200ms)
  - Объяснений ИИ (opacity 0 → 1, duration 200ms)

#### 5.2. Запрещено
- Сложные transitions
- Анимация графиков
- "Вау-эффекты"
- Декоративные анимации

**Принцип:** ИИ должен казаться надёжным, а не "игрушкой"

---

## UX-ПРИНЦИПЫ

### Приоритет информации
1. **Сначала данные** - результаты, метрики, факты
2. **Потом вывод** - интерпретация данных
3. **Потом объяснение** - почему ИИ так решил
4. **Потом действие** - что делать дальше

### Философия
**ИИ не украшение. ИИ — ассистент врача.**

Поэтому:
- Минималистичный дизайн
- Фокус на контенте
- Профессиональный вид
- Доверие через простоту

---

## SUCCESS CRITERIA

1. ✅ Все компоненты используют единую цветовую палитру (60-30-10)
2. ✅ Все тексты используют Inter (Regular/Medium/SemiBold/Bold)
3. ✅ Все кнопки следуют 3 типам (Primary/Secondary/Text)
4. ✅ Все карточки имеют одинаковый стиль
5. ✅ Border radius = 8px везде
6. ✅ Отступы следуют системе (8/16/24/32px)
7. ✅ Анимации минимальны (только hover и fade-in)
8. ✅ Приоритет информации соблюдается (данные → вывод → объяснение → действие)
9. ✅ Интерфейс создает ощущение медицинского профессионализма
10. ✅ Пользователь может быстро понять интерфейс (консистентность)

---

## INTEGRATION POINTS

### Существующие компоненты
- **Dashboard:** Применить новую цветовую палитру
- **Assessment cards:** Обновить стиль карточек
- **Exercise pages:** Применить типографику и кнопки
- **Reports:** Обновить цветовую схему
- **Navigation:** Применить новые цвета и типографику

### Новые компоненты
- Design tokens (цвета, шрифты, отступы)
- Button components (Primary/Secondary/Text)
- Card component (универсальная карточка)
- Typography components (Heading/Body)

---

## TECHNICAL CONSTRAINTS

### Frontend
- **Framework:** React 18+ (существующий)
- **Styling:** Tailwind CSS (существующий)
- **Implementation:**
  - Создать design tokens в Tailwind config
  - Создать компоненты Button, Card, Typography
  - Обновить существующие компоненты
  - Постепенная миграция (компонент за компонентом)

### Design Tokens в Tailwind Config

**Цвета:**
```javascript
colors: {
  // Основная палитра (60-30-10)
  background: {
    primary: '#FFFFFF',
    secondary: '#F8F8F8',
  },
  text: {
    heading: '#1C1C1C',
    body: '#4A4A4A',
    divider: '#E6E6E6',
  },
  accent: {
    primary: '#5F6F7A', // Slate blue
  },
  // Состояния (не входят в 60-30-10)
  state: {
    error: '#DC2626',
    warning: '#F59E0B',
    success: '#10B981',
  },
}
```

**Типографика:**
```javascript
fontFamily: {
  sans: ['Inter', 'sans-serif'], // Fallback для старых браузеров
},
fontSize: {
  body: ['14px', { lineHeight: '20px' }], // 14-16px для body
  heading: ['16px', { lineHeight: '24px', fontWeight: '600' }],
},
```

**Spacing:**
```javascript
spacing: {
  // Система отступов: 8/16/24/32px
  '2': '8px',
  '4': '16px',
  '6': '24px',
  '8': '32px',
}
```

**Border Radius:**
```javascript
borderRadius: {
  DEFAULT: '8px', // Везде 8px
}
```

### Интеграция с существующим кодом

**Стратегия миграции:**
1. **Постепенная миграция** - компонент за компонентом
2. **Обратная совместимость** - сохранить старые классы на время миграции
3. **Приоритет миграции:**
   - Кнопки (Primary/Secondary/Text)
   - Карточки
   - Формы
   - Навигация

**Текущие стили:**
- Существующие `.btn-primary`, `.btn-secondary`, `.btn-danger` будут заменены на новые компоненты
- Существующий `primary-600` цвет будет заменен на `accent-primary` (#5F6F7A)
- Старые классы можно оставить для обратной совместимости на период миграции

---

## EDGE CASES

1. **Темная тема:** Не требуется для MVP (медицинский стиль = светлый)
2. **Мобильные устройства:** Адаптивность сохраняется, но стиль остается консистентным
3. **Старые браузеры:** Inter должен иметь fallback (sans-serif)
4. **Accessibility (WCAG 2.1 AA - согласно PRD):**
   - Контрастность цветов должна соответствовать WCAG AA
   - Focus states обязательны для всех интерактивных элементов (ring 2px)
   - Keyboard navigation должна работать для всех элементов
   - Screen reader support (ARIA labels где необходимо)
   - Минимальный контраст: 4.5:1 для текста, 3:1 для UI элементов
5. **Градиенты:** Запрещены полностью (медицинский стиль = плоский дизайн)
6. **Тени:** Только для модальных окон и dropdown меню (еле заметная: `0 4px 6px -1px rgba(0, 0, 0, 0.1)`)
7. **Карточки:** Без теней, только border 1px #E6E6E6

---

## FUTURE IMPROVEMENTS

1. **Design System Documentation** - Storybook или аналогичный инструмент
2. **Component Library** - Расширенная библиотека компонентов
3. **Dark Mode** - Опциональная темная тема (если потребуется)
4. **Animation Guidelines** - Детальные правила для анимаций
5. **Accessibility Audit** - Полная проверка доступности

---

## RELATED DOCUMENTS

- `.specify/constitution.md` - Технические стандарты
- `src/frontend/src/styles/index.css` - Текущие стили
- `tailwind.config.js` - Конфигурация Tailwind (если есть)

---

**Последнее обновление:** 2026-01-06

