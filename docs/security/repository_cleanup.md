# üîí –û—á–∏—Å—Ç–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –æ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-12-27  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** HIGH

---

## ‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. AWS CLI –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `awscliv2.zip` - –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- `aws/dist/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å AWS CLI distribution
- `aws/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ AWS CLI

**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π - –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ credentials

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .gitignore

**–£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `.gitignore`:**
```
awscliv2.zip
*.zip
aws/dist/
aws/
awscliv2/
awscli/
aws-cli/
.aws/
aws-credentials
aws-config
*aws*.config
```

### –®–∞–≥ 2: –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ Git –∏–Ω–¥–µ–∫—Å–∞

**–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ Git (–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ):**
```bash
# –£–¥–∞–ª–∏—Ç—å awscliv2.zip –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
git rm --cached awscliv2.zip

# –£–¥–∞–ª–∏—Ç—å aws/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
git rm -r --cached aws/

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git commit -m "üîí SECURITY: Remove AWS CLI artifacts from repository"
```

### –®–∞–≥ 3: –û—á–∏—Å—Ç–∫–∞ Git –∏—Å—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –∏—Å—Ç–æ—Ä–∏—é Git. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ñ–∞–π–ª—ã —É–∂–µ –±—ã–ª–∏ –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ git-filter-repo:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å git-filter-repo
pip install git-filter-repo

# –£–¥–∞–ª–∏—Ç—å awscliv2.zip –∏–∑ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏
git filter-repo --path awscliv2.zip --invert-paths

# –£–¥–∞–ª–∏—Ç—å aws/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏–∑ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏
git filter-repo --path aws/ --invert-paths
```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BFG Repo-Cleaner:**
```bash
# –°–∫–∞—á–∞—Ç—å BFG
wget https://repo1.maven.org/maven2/com/madgag/bfg/1.14.0/bfg-1.14.0.jar

# –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã
java -jar bfg-1.14.0.jar --delete-files awscliv2.zip
java -jar bfg-1.14.0.jar --delete-folders aws

# –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ—Ñ–ª–æ–≥
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –°–ö–†–ò–ü–¢–û–í –ù–ê –°–ï–ö–†–ï–¢–´

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pre-commit hook:**
```bash
# –°–∫—Ä–∏–ø—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω: scripts/pre-commit-secrets-check.sh
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–∫ pre-commit hook:
ln -s ../../scripts/pre-commit-secrets-check.sh .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã
./scripts/pre-commit-secrets-check.sh

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gitleaks
gitleaks detect --source . --verbose
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

```bash
# GitHub PAT
grep -r "ghp_[a-zA-Z0-9]\{36\}" . --exclude-dir=node_modules

# AWS Access Keys
grep -r "AKIA[0-9A-Z]\{16\}" . --exclude-dir=node_modules

# Stripe keys
grep -r "sk_live_[a-zA-Z0-9]\{24\}" . --exclude-dir=node_modules
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –û–ß–ò–°–¢–ö–ò

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω `.gitignore` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- [ ] `awscliv2.zip` —É–¥–∞–ª–µ–Ω –∏–∑ Git –∏–Ω–¥–µ–∫—Å–∞
- [ ] `aws/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ Git –∏–Ω–¥–µ–∫—Å–∞
- [ ] –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
- [ ] Pre-commit hook –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Git –∏—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ GitHub Secrets –∏–ª–∏ AWS SSM
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

---

## üö® –ï–°–õ–ò –°–ï–ö–†–ï–¢–´ –£–ñ–ï –í GIT –ò–°–¢–û–†–ò–ò

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   - AWS Access Keys ‚Üí AWS IAM ‚Üí Deactivate
   - GitHub PAT ‚Üí GitHub Settings ‚Üí Revoke
   - Stripe keys ‚Üí Stripe Dashboard ‚Üí Revoke

2. **–û—á–∏—Å—Ç–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git-filter-repo` –∏–ª–∏ BFG Repo-Cleaner
   - Force push (‚ö†Ô∏è –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—É!)

3. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ AWS Access Keys
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π GitHub PAT
   - –û–±–Ω–æ–≤–∏—Ç—å Stripe keys

4. **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - GitHub Secrets
   - AWS SSM Parameter Store
   - Vercel Environment Variables
   - –õ–æ–∫–∞–ª—å–Ω—ã–µ `.env` —Ñ–∞–π–ª—ã

---

## üìö –°–ú. –¢–ê–ö–ñ–ï

- `docs/security/secrets_locations.md` - –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–µ–∫—Ä–µ—Ç—ã
- `docs/security/secret_rotation_required.md` - –†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- `scripts/pre-commit-secrets-check.sh` - Pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∞
- `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Git

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-27





