# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub Secrets –¥–ª—è AWS Credentials

**–ü—Ä–æ–±–ª–µ–º–∞:** Access Keys —Å–æ–∑–¥–∞–Ω—ã –≤ AWS, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ GitHub Actions.

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub Secrets –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## üîç –ü–†–û–í–ï–†–ö–ê 1: GitHub Secrets

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ GitHub Secrets

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `https://github.com/recreomassage-hub/flowlogic.shop`
2. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤:

### –¢—Ä–µ–±—É–µ–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è Access Keys:

| –ò–º—è —Å–µ–∫—Ä–µ—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –§–æ—Ä–º–∞—Ç |
|------------|----------|--------|
| `AWS_ACCESS_KEY_ID` | –í–∞—à Access Key ID | –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AKIA`, 20 —Å–∏–º–≤–æ–ª–æ–≤ |
| `AWS_SECRET_ACCESS_KEY` | –í–∞—à Secret Access Key | 40 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã/—Ü–∏—Ñ—Ä—ã/—Å–∏–º–≤–æ–ª—ã |

### ‚ö†Ô∏è –í–ê–ñ–ù–û:

- **–ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ** `AWS_ROLE_ARN` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º), –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Access Keys
- –ò–º–µ–Ω–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ç–æ—á–Ω–æ** –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ (—Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –∫–æ–Ω—Ü–µ

---

## üîç –ü–†–û–í–ï–†–ö–ê 2: –§–æ—Ä–º–∞—Ç –∑–Ω–∞—á–µ–Ω–∏–π

### AWS_ACCESS_KEY_ID:
- ‚úÖ –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `AKIA`
- ‚úÖ –î–ª–∏–Ω–∞: 20 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –§–æ—Ä–º–∞—Ç: `AKIA` + 16 —Å–∏–º–≤–æ–ª–æ–≤ (–±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã)

### AWS_SECRET_ACCESS_KEY:
- ‚úÖ –î–ª–∏–Ω–∞: 40 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, —Å–∏–º–≤–æ–ª—ã `/`, `+`, `=`
- ‚ùå –ù–ï –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–±–µ–ª–æ–≤

---

## üîç –ü–†–û–í–ï–†–ö–ê 3: Environment-specific Secrets

**–í–ê–ñ–ù–û:** –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `environment: production` –≤ workflow, —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ **Environment secrets**, –∞ –Ω–µ –≤ Repository secrets!

### –í–∞—Ä–∏–∞–Ω—Ç A: Repository Secrets (–¥–ª—è –≤—Å–µ—Ö environments)

1. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions** ‚Üí **Repository secrets**
2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–¥–µ—Å—å

### –í–∞—Ä–∏–∞–Ω—Ç B: Environment Secrets (—Ç–æ–ª—å–∫–æ –¥–ª—è production)

1. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions** ‚Üí **Environments**
2. –í—ã–±–µ—Ä–∏—Ç–µ `production`
3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ **Environment secrets**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Repository secrets** –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.

---

## üîç –ü–†–û–í–ï–†–ö–ê 4: –õ–æ–≥–∏ GitHub Actions

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ workflow:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ failed workflow

1. GitHub ‚Üí **Actions**
2. –ù–∞–π–¥–∏—Ç–µ failed workflow run
3. –û—Ç–∫—Ä–æ–π—Ç–µ job **"Deploy to Production"**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ step "Check AWS credentials configuration"

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üîç Checking AWS credentials configuration...
‚ö†Ô∏è  AWS_ROLE_ARN not found, will use Access Keys
‚úÖ AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY found
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
```
‚ö†Ô∏è  AWS Access Keys not found
```

**–†–µ—à–µ–Ω–∏–µ:** –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## üîç –ü–†–û–í–ï–†–ö–ê 5: Step "Configure AWS credentials (Access Keys)"

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
- Step –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è (–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å skipped)
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫

**–ï—Å–ª–∏ step skipped:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏–µ: `if: steps.check-aws-creds.outputs.USE_OIDC != 'true' && steps.check-aws-creds.outputs.HAS_ACCESS_KEYS == 'true'`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `HAS_ACCESS_KEYS=true` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ

---

## üõ†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

### –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã:

1. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. **New repository secret**
3. –î–æ–±–∞–≤—å—Ç–µ:
   - Name: `AWS_ACCESS_KEY_ID`
   - Value: –≤–∞—à Access Key ID –∏–∑ AWS (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AKIA`)
4. **Add secret**
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è `AWS_SECRET_ACCESS_KEY`

### –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–µ–Ω–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ—á–Ω–æ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `AWS_ROLE_ARN` –ø—É—Å—Ç–æ–π –∏–ª–∏ —É–¥–∞–ª–µ–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ workflow: **Actions** ‚Üí **Re-run jobs**

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò

- [ ] `AWS_ACCESS_KEY_ID` –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- [ ] `AWS_SECRET_ACCESS_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- [ ] –ò–º–µ–Ω–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç (—Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- [ ] –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–±–µ–ª–æ–≤
- [ ] `AWS_ROLE_ARN` –ø—É—Å—Ç–æ–π –∏–ª–∏ —É–¥–∞–ª–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Access Keys)
- [ ] –°–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (Repository secrets –∏–ª–∏ Environment secrets)
- [ ] Workflow –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤

---

## üîó –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

- `docs/deployment/quick_fix_aws_credentials.md` - –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- `docs/deployment/aws_credentials_setup.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Access Keys
- `docs/deployment/aws_credentials_troubleshooting.md` - –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-26

