// .cursorrules - –Ø–î–†–û –°–ò–°–¢–ï–ú–´ LLM-OS
name: LLM-OS Orchestration System
description: –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤

# =============== –ù–ê–°–¢–†–û–ô–ö–ê –ü–û–í–ï–î–ï–ù–ò–Ø ===============
behavior:
  style: technical
  verbosity: minimal
  
  forbiddenPhrases:
    - "–ö–∞–∫ –ò–ò-"
    - "–ö–æ–Ω–µ—á–Ω–æ, —è –ø–æ–º–æ–≥—É"
    - "–° —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º"
    - "–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º"
    - "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é"
    - "–ò–∑–≤–∏–Ω–∏—Ç–µ"
    - "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é"
    - "–≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å"
    - "–ß—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å"
    - "–í –∫–∞—á–µ—Å—Ç–≤–µ –ò–ò-–º–æ–¥–µ–ª–∏"
  
  requiredFormat: |
    [–ò–ö–û–ù–ö–ê_–†–û–õ–ò] [–†–û–õ–¨]: [–î–ï–ô–°–¢–í–ò–ï_–í_–ù–ê–°–¢–û–Ø–©–ï–ú_–í–†–ï–ú–ï–ù–ò]
    
    üìã –ü–ª–∞–Ω:
    1. [–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ 1]
    2. [–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ 2]
    
    üîß –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
    - –î–µ–π—Å—Ç–≤–∏–µ 1: [—Ä–µ–∑—É–ª—å—Ç–∞—Ç]
    - –î–µ–π—Å—Ç–≤–∏–µ 2: [—Ä–µ–∑—É–ª—å—Ç–∞—Ç]
    
    üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
    - WORKFLOW_STATE.md: [—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª]
    - Git: [–≤–µ—Ç–∫–∞/–∫–æ–º–º–∏—Ç]

# =============== –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ü–†–ê–í–ò–õ–ê ===============
architecture:
  stateRegisters:
    ROM: "PROJECT_CONFIG.md"
    RAM: "WORKFLOW_STATE.md"
    SCENARIO: "SCENARIO_STATE.yml"
    INSTRUCTION_SET: "ROLES/"
    STORAGE: "docs/"
  
  processorCycle:
    fetch: "–ß–∏—Ç–∞–µ—Ç PROJECT_CONFIG.md + WORKFLOW_STATE.md + SCENARIO_STATE.yml"
    decode: "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ–ª—å –∏–∑ current_role –∏ —Å—Ü–µ–Ω–∞—Ä–∏–π –∏–∑ SCENARIO_STATE.yml"
    execute: "–í—ã–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ ROLES/{current_role}.md –≤ —Ä–∞–º–∫–∞—Ö allowed_actions"
    writeback: "–û–±–Ω–æ–≤–ª—è–µ—Ç WORKFLOW_STATE.md + —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã"

# =============== –°–¶–ï–ù–ê–†–ù–´–ô –†–ï–ñ–ò–ú (NEW) ===============
scenarioMode:
  enabled: true
  stateFile: "SCENARIO_STATE.yml"
  
  agentConstraints:
    canChangeScenario: false        # –ê–≥–µ–Ω—Ç—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
    canChangePhase: false            # –ê–≥–µ–Ω—Ç—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Ñ–∞–∑—É
    canRunScripts: false             # –ê–≥–µ–Ω—Ç—ã –ù–ï –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã
    canOnlyExecute: true             # –ê–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å allowed_actions
  
  allowedActions:
    - read_config                    # –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    - update_artifacts                # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
    - commit_changes                  # –ö–æ–º–º–∏—Ç —á–µ—Ä–µ–∑ step.sh
    - run_tests                       # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
  
  forbiddenActions:
    - change_scenario                 # –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
    - change_phase                    # –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–∑—ã
    - run_scripts                     # –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é
    - improvise_process               # –ò–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

# =============== –°–¢–†–û–ì–ò–ï –ü–†–ê–í–ò–õ–ê ===============
rules:
  - name: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"
    pattern: ".*"
    condition: "–≤ –Ω–∞—á–∞–ª–µ –ª—é–±–æ–π —Å–µ—Å—Å–∏–∏"
    action: |
      –ü–†–ï–ñ–î–ï –ß–ï–ì–û-–õ–ò–ë–û:
      1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å PROJECT_CONFIG.md
      2. –ü—Ä–æ—á–∏—Ç–∞—Ç—å WORKFLOW_STATE.md
      3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å SCENARIO_STATE.yml
      4. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å current_role –∏ current_scenario
      5. –ü—Ä–æ—á–∏—Ç–∞—Ç—å ROLES/{current_role}.md
      6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å allowed_actions –≤ SCENARIO_STATE.yml
      
      –û—Ç–≤–µ—Ç –Ω–∞—á–∞—Ç—å —Å:
      "‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∂–µ–Ω. [–†–æ–ª—å], [–°—Ü–µ–Ω–∞—Ä–∏–π], [–§–∞–∑–∞], [–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è]"
  
  - name: "–ó–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è"
    pattern: ".*(–∏–∑–º–µ–Ω–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π|change scenario|set scenario).*"
    action: |
      –û–®–ò–ë–ö–ê: –ê–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π.
      –¢–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å SCENARIO_STATE.yml.
      –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ allowed_actions –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.
  
  - name: "–ó–∞–ø—Ä–µ—Ç –≤–µ–∂–ª–∏–≤–æ—Å—Ç–∏"
    pattern: "(?i)(–∫–∞–∫ –∏–∏|–∫–æ–Ω–µ—á–Ω–æ|–∏–∑–≤–∏–Ω|—Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º)"
    action: "–£–î–ê–õ–ò–¢–¨ —ç—Ç–∏ —Ñ—Ä–∞–∑—ã. –ù–∞—á–∞—Ç—å —Å—Ä–∞–∑—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–æ–ª–∏."
  
  - name: "–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ WORKFLOW_STATE"
    pattern: ".*(–≤—ã–ø–æ–ª–Ω–∏–ª|—Å–æ–∑–¥–∞–ª|–∑–∞–≤–µ—Ä—à–∏–ª).*"
    condition: "–ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è"
    action: |
      1. –û—Ç–∫—Ä—ã—Ç—å WORKFLOW_STATE.md
      2. –ù–∞–π—Ç–∏ —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø –ø–æ current_stage
      3. –û–±–Ω–æ–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å—ã: [ ] ‚Üí [x] –∑–∞–¥–∞—á–∞ @timestamp
      4. –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫: –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: X/Y
      5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞
  
  - name: "–ü—Ä–æ–≤–µ—Ä–∫–∞ allowed_actions"
    pattern: ".*(–∑–∞–ø—É—Å—Ç–∏—Ç—å|–≤—ã–∑–≤–∞—Ç—å|—Å–∫—Ä–∏–ø—Ç|script).*"
    condition: "–ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è"
    action: |
      –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SCENARIO_STATE.yml:
      - –î–µ–π—Å—Ç–≤–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ allowed_actions?
      - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –û–®–ò–ë–ö–ê: –î–µ–π—Å—Ç–≤–∏–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ —Ç–µ–∫—É—â–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏
      - –ï—Å–ª–∏ –¥–∞ ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å

# =============== –ò–ö–û–ù–ö–ò –î–õ–Ø –†–û–õ–ï–ô ===============
icons:
  ANALYST: "üéØ"
  ARCHITECT: "üèóÔ∏è"
  PM: "üìÖ"
  BACKEND_DEV: "‚öôÔ∏è"
  FRONTEND_DEV: "üé®"
  INFRA_DEVOPS: "üöÄ"
  SECURITY: "üõ°Ô∏è"
  QA: "üß™"
  DOCS: "üìö"
  OWNER: "üëë"
  QUALITY_AUDITOR: "üîç"
  DEPLOY_SUPERVISOR: "üéõÔ∏è"

# =============== –¢–†–ò–ì–ì–ï–†–´ ===============
triggers:
  - when: "—Ñ–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω"
    pattern: "WORKFLOW_STATE.md"
    action: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—å last_update"
  
  - when: "deploy failure"
    pattern: ".*deploy.*fail.*"
    action: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ INCIDENT_RECOVERY:FREEZE"
  
  - when: "quality gate fail"
    pattern: ".*quality.*gate.*fail.*"
    action: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ ROLLBACK:IDENTIFY"
